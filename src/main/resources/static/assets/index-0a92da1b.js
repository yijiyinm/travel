import{d as b,aH as q,ay as B,r,o as F,a as N,c as R,I as s,w as i,k as c,f as o,au as z,W as D,aj as K,q as x,aV as T,N as U,aD as $,aE as j,aC as M}from "./index-d2e65462.js";import{E as v,a as O}from "./el-form-item-7eacde13.js";import{E as A}from "./el-tooltip-852bd09b.js";import{S as g}from "./index-37167f7c.js";import{_ as H}from "./_plugin-vue_export-helper-c27b6911.js";const L= d=>($("data-v-81406cce"),d=d(),j(),d),P={class:"login-container"},Q=L(()=>c("div",{class:"flex text-white items-center py-4"},[c("span",{class:"text-2xl flex-1 text-center"},x("后台管理系统"))],-1)),W={class:"p-2 text-white"},Z={class:"p-2 text-white"},G=b({__name:"index",setup(d){const k=q(),V=B(),_=r(!1),h=r(!1),p=r(!1),w=r(v),n=r({username:"12345678901",password:"123456"}),E={username:[{required:!0,trigger:"blur"}],password:[{required:!0,trigger:"blur",validator:C}]};function C(t, e, a){e.length<6?a(new Error("The password can not be less than 6 digits")):a()}function I(t){const{key:e}=t;h.value=e&&e.length===1&&e>="A"&&e<="Z"}function y(){w.value.validate(t=>{t&&(_.value=!0,k.login(n.value).then(()=>{const e=V.query,a=e.redirect??"/",u=Object.keys(e).reduce((m, l)=>(l!=="redirect"&&(m[l]=e[l]),m),{});M.push({path:a,query:u})}).catch(()=>{}).finally(()=>{_.value=!1}))})}return F(()=>{}),(t, e)=>{const a=T,u=O,m=A,l=U,S=v;return N(),R("div",P,[s(S,{ref_key:"loginFormRef",ref:w,model:o(n),rules:E,class:"login-form"},{default:i(()=>[Q,s(u,{prop:"username"},{default:i(()=>[c("div",W,[s(g,{"icon-class":"user"})]),s(a,{class:"flex-1",ref:"username",size:"large",modelValue:o(n).username,"onUpdate:modelValue":e[0]||(e[0]= f=>o(n).username=f),placeholder:t.$t("login.username"),name:"username"},null,8,["modelValue","placeholder"])]),_:1}),s(m,{disabled:o(h)===!1,content:"Caps lock is On",placement:"right"},{default:i(()=>[s(u,{prop:"password"},{default:i(()=>[c("span",Z,[s(g,{"icon-class":"password"})]),s(a,{class:"flex-1",modelValue:o(n).password,"onUpdate:modelValue":e[1]||(e[1]= f=>o(n).password=f),placeholder:"密码",type:o(p)===!1?"password":"input",size:"large",name:"password",onKeyup:[I,z(y,["enter"])]},null,8,["modelValue","type","onKeyup"]),c("span",{class:"mr-2",onClick:e[2]||(e[2]= f=>p.value=!o(p))},[s(g,{"icon-class":o(p)===!1?"eye":"eye-open",class:"text-white cursor-pointer"},null,8,["icon-class"])])]),_:1})]),_:1},8,["disabled"]),s(l,{size:"default",loading:o(_),type:"primary",class:"w-full",onClick:D(y,["prevent"])},{default:i(()=>[K(x(t.$t("login.login")),1)]),_:1},8,["loading","onClick"])]),_:1},8,["model"])])}}});const oe=H(G,[["__scopeId","data-v-81406cce"]]);export{oe as default};
