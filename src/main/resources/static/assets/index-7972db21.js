import{d as z,r as u,a7 as N,o as R,a as p,c as q,k as D,K as e,w as n,f as t,aj as m,aa as L,l as f,A as w,aQ as M,aK as P,bc as Q,P as A}from"./index-8950cb87.js";import{E as K,g as j,f as O,_ as S,a as $,b as G,d as H,e as J,v as W}from"./search-7361b612.js";import"./el-tooltip-f30e8ab7.js";import"./el-scrollbar-577ad69f.js";import{E as x,a as X}from"./el-form-item-60eafdf9.js";import{g as Y,d as Z}from"./index-3e71c736.js";import{_ as ee}from"./_plugin-vue_export-helper-c27b6911.js";const te={class:"app-container"},oe={class:"search"},ne={name:"distribution"},le=z({...ne,setup(ae){const b=u(x),i=u(!1),_=u(0),l=N({current:1,size:10}),v=u();function c(){i.value=!0,Y(l).then(({data:a})=>{v.value=a==null?void 0:a.records,_.value=a==null?void 0:a.total}).finally(()=>{i.value=!1})}function E({openId:a}){P.confirm("确认作废该分销商吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{i.value=!0,Z({openId:a}).then(()=>{Q.success("作废成功"),g()}).finally(()=>i.value=!1)})}function g(){b.value.resetFields(),l.current=1,c()}return R(()=>{c()}),(a,s)=>{const y=j,k=O,h=X,C=S,d=A,I=$,B=x,r=G,V=H,T=J,F=K,U=W;return p(),q("div",te,[D("div",oe,[e(B,{ref_key:"queryFormRef",ref:b,model:t(l),inline:!0},{default:n(()=>[e(h,{label:"是否分销商",prop:"distributionIs"},{default:n(()=>[e(k,{modelValue:t(l).distributionIs,"onUpdate:modelValue":s[0]||(s[0]=o=>t(l).distributionIs=o),placeholder:"是否分销商",clearable:""},{default:n(()=>[e(y,{value:!0,label:"是"}),e(y,{value:!1,label:"否"})]),_:1},8,["modelValue"])]),_:1}),e(h,null,{default:n(()=>[e(d,{type:"primary",onClick:c},{default:n(()=>[e(C),m("搜索")]),_:1}),e(d,{onClick:g},{default:n(()=>[e(I),m("重置")]),_:1})]),_:1})]),_:1},8,["model"])]),e(F,{shadow:"never"},{default:n(()=>[L((p(),f(V,{ref:"dataTableRef",data:t(v),"highlight-current-row":"",selectable:"false",border:""},{default:n(()=>[e(r,{label:"用户名",prop:"name",width:"150"}),e(r,{label:"openId",prop:"openId","min-width":"100"}),e(r,{label:"手机号",prop:"phone","min-width":"100"}),e(r,{label:"创建时间",prop:"createDate","min-width":"100"}),e(r,{label:"分销商编码",prop:"fxsCode","min-width":"100"}),e(r,{label:"操作",width:"220"},{default:n(o=>[o.row.fxsCode?(p(),f(d,{key:0,type:"primary",size:"small",link:"",onClick:se=>E({openId:o.row.openId})},{default:n(()=>[m(" 作废 ")]),_:2},1032,["onClick"])):w("",!0)]),_:1})]),_:1},8,["data"])),[[U,t(i)]]),t(_)>0?(p(),f(T,{key:0,total:t(_),"onUpdate:total":s[1]||(s[1]=o=>M(_)?_.value=o:null),page:t(l).current,"onUpdate:page":s[2]||(s[2]=o=>t(l).current=o),limit:t(l).size,"onUpdate:limit":s[3]||(s[3]=o=>t(l).size=o),onPagination:c},null,8,["total","page","limit"])):w("",!0)]),_:1})])}}});const me=ee(le,[["__scopeId","data-v-0a6b2059"]]);export{me as default};
